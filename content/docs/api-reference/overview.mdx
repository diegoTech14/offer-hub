---
title: API Overview
description: Introduction to the OFFER-HUB REST API — authentication, response format, and error handling.
order: 2
section: API Reference
---

The OFFER-HUB backend exposes a RESTful JSON API at `http://localhost:4000`. All endpoints are prefixed with `/api/v1`.

## Authentication

Most endpoints require a Bearer token in the `Authorization` header:

```http
GET /api/v1/balances
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

Obtain a token by logging in:

```bash
curl -X POST http://localhost:4000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"user@example.com","password":"password"}'
```

## Response Format

All responses follow the `ApiResponse<T>` envelope:

```json
{
  "code": 200,
  "type": "success",
  "ok": true,
  "message": "Operation completed successfully",
  "data": {}
}
```

| Field | Type | Description |
|-------|------|-------------|
| `code` | number | HTTP status code |
| `type` | string | `success` or `error` |
| `ok` | boolean | `true` on success |
| `message` | string | Human-readable message |
| `data` | T or null | Response payload |
| `errors` | string array or null | Validation errors if any |

## Error Handling

Errors also use the same envelope format:

```json
{
  "code": 422,
  "type": "error",
  "ok": false,
  "message": "Validation failed",
  "data": null,
  "errors": ["Amount must be positive", "Currency is required"]
}
```

### Common Error Codes

| Code | Meaning |
|------|---------|
| `400` | Bad Request — malformed input |
| `401` | Unauthorized — missing or invalid token |
| `403` | Forbidden — insufficient permissions |
| `404` | Not Found |
| `422` | Validation Error |
| `500` | Internal Server Error |

<Callout type="note">
  All error messages are safe to display to end users. Internal details are logged server-side only.
</Callout>

## Rate Limiting

The API enforces rate limits per IP address. Exceeding the limit returns `429 Too Many Requests`.

<Callout type="warning">
  Default limits: **100 requests / 15 minutes** for public endpoints, **300 / 15 min** for authenticated endpoints.
</Callout>

## Available Endpoints

| Endpoint | Description |
|----------|-------------|
| `POST /auth/register` | Register a new user |
| `POST /auth/login` | Login and receive a JWT |
| `GET /balances` | Get user balances |
| `GET /balances/transactions` | Get paginated transaction history |
| `POST /wallets/connect` | Connect a Stellar wallet |
| `GET /projects` | List projects |
| `POST /projects` | Create a project |
| `POST /escrow/init` | Initialise an escrow |
| `POST /escrow/release` | Release escrowed funds |

See [Webhooks](/docs/api-reference/webhooks) for event delivery configuration.
